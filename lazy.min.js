let lazy_collection=[],visible_lazies=[],current_scroll_pos=window.scrollY;const set_opacity_transitions=l=>{l.forEach(l=>{l.style.opacity=0,l.style.transition="opacity 1.5s ease-in-out"})},build_lazy_collection=()=>{lazy_collection=document.querySelectorAll("[data-type=lazy]"),set_opacity_transitions(lazy_collection)},load_lazies=()=>{visible_lazies.length!==lazy_collection.length&&visible_lazies.length<lazy_collection.length&&(lazy_collection.forEach(l=>{l.getBoundingClientRect().top-window.innerHeight<current_scroll_pos&&l.src.length<1&&(l.src=l.dataset.src,l.style.opacity=1,visible_lazies.push(l))}),window.removeEventListener("scroll",load_lazies),window.removeEventListener("resize",load_lazies),window.addEventListener("scroll",load_lazies),window.addEventListener("resize",load_lazies))},lazy=()=>{lazy_collection=document.querySelectorAll("[data-type=lazy]"),set_opacity_transitions(lazy_collection),load_lazies()};lazy_collection=document.querySelectorAll("[data-type=lazy]"),set_opacity_transitions(lazy_collection),load_lazies();